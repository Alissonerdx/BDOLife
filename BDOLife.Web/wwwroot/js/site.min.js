function formatState(n){return n.img!==null&&n.img!==undefined&&n.img!==""?$(`<span><img src="${n.img}" class="img-flag" />  ${n.text}</span>`):$(`<span>${n.text}</span>`)}function formatDate(n){var r=new Date(n),t=""+(r.getMonth()+1),i=""+r.getDate(),u=r.getFullYear();return t.length<2&&(t="0"+t),i.length<2&&(i="0"+i),[i,t,u].join("/")}function BlockElement(n){$(n).block({centerY:!1,centerX:!1,message:'<div class="ft-refresh-cw icon-spin font-medium-2"><\/div>',overlayCSS:{backgroundColor:"#fff",opacity:.8,cursor:"wait"},css:{border:0,padding:0,backgroundColor:"transparent"},ignoreIfBlocked:!0})}function UnblockElement(n){$(n).unblock()}function formatState(n){return n.img!==null&&n.img!==undefined&&n.img!==""?$(`<span><img src="${n.img}" class="img-flag" />  ${n.text}</span>`):$(`<span>${n.text}</span>`)}function resize(){var n=document.getElementsByTagName("html")[0].scrollHeight;window.parent.postMessage(["setHeight",n],"*")}function getCookie(n){return localStorage.getItem(n)}function setCookie(n,t){return localStorage.setItem(n,t)}const TIPO={None:0,Item:1,Material:2,Receita:3},GRAU={Branco:0,Verde:1,Azul:2,Ouro:3,Laranja:4},TabulatorLanguage={"pt-br":{pagination:{first:"Primeira",first_title:"Primeira Página",last:"Última",last_title:"Última Página",prev:"Anterior",prev_title:"Página Anterior",next:"Próximo",next_title:"Próxima Página",all:"Todas"},ajax:{loading:"Carregando",error:"Erro"}}};$(document).ready(function(){function n(){function s(n){this.items=[];this.selectedIndex=-1;this.selectedValue=0;this.valueField="";this.textField="";this.imgField="";n.valueField&&n.items.length&&(this.valueType=typeof n.items[0][n.valueField]);this.sorter=this.valueType;r.call(this,n)}var e=function(n){jsGrid.Field.call(this,n)},n,t,i,o,r,u,f;e.prototype=new jsGrid.Field({sorter:function(n,t){return n-t},itemTemplate:function(n){return Inputmask.format(`${n}`,{alias:"prata"})},insertTemplate:function(n){return this._insertPicker=$('<input type="text">').val(n),this._insertPicker.inputmask("prata"),this._insertPicker},editTemplate:function(n){return this.editing?(this._editPicker=$('<input type="text">').val(n),this._editPicker.inputmask("prata"),this._editPicker):this.itemTemplate.apply(this,arguments)},filterTemplate:function(){if(!this.filtering)return"";var t=this._grid,n=$('<input type="text">').val(0);if(this.autosearch)n.on("change",function(){t.search()});return n},filterValue:function(){return this._insertPicker.val()},insertValue:function(){return this._insertPicker.val()},editValue:function(){return this._editPicker.val()}});jsGrid.fields.prataField=e;n=function(n){jsGrid.Field.call(this,n)};n.prototype=new jsGrid.Field({sorter:function(n,t){return n-t},itemTemplate:function(n){return Inputmask.format(`${n}`,{alias:"prataNegativo"})},insertTemplate:function(n){return this._insertPicker=$('<input type="text">').val(n),this._insertPicker.inputmask("prata"),this._insertPicker},editTemplate:function(n){return this.editing?(this._editPicker=$('<input type="text">').val(n),this._editPicker.inputmask("prata"),this._editPicker):this.itemTemplate.apply(this,arguments)},filterTemplate:function(){if(!this.filtering)return"";var t=this._grid,n=$('<input type="text">').val(0);if(this.autosearch)n.on("change",function(){t.search()});return n},filterValue:function(){return this._insertPicker.val()},insertValue:function(){return this._insertPicker.val()},editValue:function(){return this._editPicker.val()}});jsGrid.fields.prataNegativoField=n;t=function(n){jsGrid.Field.call(this,n)};t.prototype=new jsGrid.Field({sorter:function(n,t){return n-t},itemTemplate:function(n){return Inputmask.format(`${n}`,{alias:"porcentagem"})},insertTemplate:function(n){return this._insertPicker=$('<input type="text">').val(n),this._insertPicker.inputmask("porcentagem"),this._insertPicker},editTemplate:function(n){return this.editing?(this._editPicker=$('<input type="text">').val(n),this._editPicker.inputmask("porcentagem"),this._editPicker):this.itemTemplate.apply(this,arguments)},filterTemplate:function(){if(!this.filtering)return"";var t=this._grid,n=$('<input type="text">').val(0);if(this.autosearch)n.on("change",function(){t.search()});return n},filterValue:function(){return this._insertPicker.val()},insertValue:function(){return this._insertPicker.val()},editValue:function(){return this._editPicker.val()}});jsGrid.fields.porcentagemField=t;i=function(n){jsGrid.Field.call(this,n)};i.prototype=new jsGrid.Field({sorter:function(n,t){return n-t},itemTemplate:function(n){return Inputmask.format(`${n}`,{alias:"real"})},insertTemplate:function(n){return this._insertPicker=$('<input type="text">').val(n),this._insertPicker.inputmask("real"),this._insertPicker},editTemplate:function(n){return this.editing?(this._editPicker=$('<input type="text">').val(n),this._editPicker.inputmask("real"),this._editPicker):this.itemTemplate.apply(this,arguments)},filterTemplate:function(){if(!this.filtering)return"";var t=this._grid,n=$('<input type="text">').val(0);if(this.autosearch)n.on("change",function(){t.search()});return n},filterValue:function(){return this._insertPicker.val()},insertValue:function(){return this._insertPicker.val()},editValue:function(){return this._editPicker.val()}});jsGrid.fields.realField=i;o=function(n){jsGrid.Field.call(this,n)};o.prototype=new jsGrid.Field({sorter:function(n,t){return n-t},itemTemplate:function(n){return Inputmask.format(`${n}`,{alias:"integer"})},insertTemplate:function(n){return this._insertPicker=$('<input type="text">').val(n),this._insertPicker.inputmask("integer"),this._insertPicker},editTemplate:function(n){return this.editing?(this._editPicker=$('<input type="text">').val(n),this._editPicker.inputmask("integer"),this._editPicker):this.itemTemplate.apply(this,arguments)},filterTemplate:function(){if(!this.filtering)return"";var t=this._grid,n=$('<input type="text">').val(0);if(this.autosearch)n.on("change",function(){t.search()});return n},filterValue:function(){return this._insertPicker.val()},insertValue:function(){return this._insertPicker.val()},editValue:function(){return this._editPicker.val()}});r=jsGrid.NumberField;s.prototype=new r({align:"left",valueType:"number",itemTemplate:function(n){var r=this.items,u=this.valueField,f=this.textField,e=this.imgField,i,t;return i=u?$.grep(r,function(t){return t[u]===n})[0]||{}:r[n],t=f?i[f]:i,t===undefined||t===null?"":t},filterTemplate:function(){if(!this.filtering)return"";var t=this._grid,n=this.filterControl=this._createSelect();if(this._applySelect(n,this),this.autosearch)n.on("change",function(){t.search()});return n},insertTemplate:function(){if(!this.inserting)return"";var n=this.insertControl=this._createSelect();return this._applySelect(n,this),n},editTemplate:function(n){if(!this.editing)return this.itemTemplate(n);var t=this.editControl=this._createSelect();return n!==undefined&&t.val(n),this._applySelect(t,this),t},filterValue:function(){var n=this.filterControl.val();return this.valueType==="number"?parseInt(n||0,10):n},insertValue:function(){var n=this.insertControl.val();return this.valueType==="number"?parseInt(n||0,10):n},editValue:function(){var n=this.editControl.val();return this.valueType==="number"?parseInt(n||0,10):n},_applySelect:function(n){setTimeout(function(){var t=function(n){var t="";try{t=n.element.attributes.img.value}catch(i){}return!n.id||!t?n.text:$('<span><img src="'+t+'" class="img-flag"/> '+n.text+"<\/span>")};n.select2({width:"100%",language:"pt-BR",templateResult:t,templateSelection:t})})},_createSelect:function(){var t=$("<select>"),n=this.valueField,i=this.textField,r=this.imgField,f=this.selectedIndex,u=this.selectedValue;return $.each(this.items,function(f,e){var o=n?e[n]:f,s=i?e[i]:e,h=r?e[r]:"",c=$("<option>").attr("value",o).attr("img",h).text(s).appendTo(t);c.prop("selected",u===e[n])}),t}});jsGrid.fields.select2=jsGrid.Select2Field=s;u=function(n){jsGrid.Field.call(this,n)};u.prototype=new jsGrid.Field({sorter:function(n,t){return new Date(n)-new Date(t)},itemTemplate:function(n){return n===null||n===undefined||n===""?"":formatDate(new Date(n))},insertTemplate:function(){return this._insertPicker=$("<input>").datepicker({defaultDate:new Date,dateFormat:"dd/mm/yy"})},editTemplate:function(n){return this._editPicker=n===null||n===undefined||n===""?$("<input>").datepicker({dateFormat:"dd/mm/yy"}):$("<input>").datepicker({dateFormat:"dd/mm/yy"}).datepicker("setDate",new Date(n))},insertValue:function(){var n=this._insertPicker.datepicker("getDate");return n!==null&&n!=="undefined"?formatDate(this._insertPicker.datepicker("getDate")):null},editValue:function(){var n=this._editPicker.datepicker("getDate");return n!==null&&n!=="undefined"?formatDate(this._editPicker.datepicker("getDate")):null}});jsGrid.fields.date=u;f=function(n){jsGrid.Field.call(this,n)};f.prototype=new jsGrid.Field({sorter:function(n,t){return n-t},itemTemplate:function(n){return Inputmask.format(`${n}`,{alias:"proc"})},insertTemplate:function(n){return this._insertPicker=$('<input type="text">').val(n),this._insertPicker.inputmask("proc"),this._insertPicker},editTemplate:function(n){return this.editing?(this._editPicker=$('<input type="text">').val(n),this._editPicker.inputmask("proc"),this._editPicker):this.itemTemplate.apply(this,arguments)},filterTemplate:function(){if(!this.filtering)return"";var t=this._grid,n=$('<input type="text">').val(0);if(this.autosearch)n.on("change",function(){t.search()});return n},filterValue:function(){return this._insertPicker.val()},insertValue:function(){return this._insertPicker.val()},editValue:function(){return this._editPicker.val()}});jsGrid.fields.procField=f}jsGrid.locale("pt-br");n();Inputmask.extendAliases({integer:{allowPlus:!1,allowMinus:!1},prata:{alias:"decimal",radixPoint:",",groupSeparator:".",autoGroup:!0,digits:0,digitsOptional:!1,placeholder:"0",rightAlign:!1,allowPlus:!1,allowMinus:!1,onBeforeMask:function(n){return n}},prataNegativo:{alias:"decimal",radixPoint:",",groupSeparator:".",autoGroup:!0,digits:0,digitsOptional:!1,placeholder:"0",rightAlign:!1,allowPlus:!1,allowMinus:!0,onBeforeMask:function(n){return n}},real:{alias:"decimal",radixPoint:",",groupSeparator:".",autoGroup:!0,digits:2,digitsOptional:!1,placeholder:"0",rightAlign:!1,allowPlus:!1,allowMinus:!1,onBeforeMask:function(n){return n}},proc:{mask:"9[,99]",greedy:!1,definitions:{"*":{validator:"[0-9]"}},rightAlign:!0,placeholder:""},"proc-2":{alias:"decimal",integerDigits:3,digits:2,autoGroup:!0,groupSeparator:".",radixPoint:",",greedy:!1,rightAlign:!0,placeholder:""},porcentagem:{alias:"percentage",digits:"2",rightAlign:!1,suffix:"%",integerDigits:5,digitsOptional:!0,allowPlus:!0,allowMinus:!0,placeholder:"0",min:-1e4,max:1e4,numericInput:!0},"mask-porcentagem":{alias:"percentage",digits:"2",rightAlign:!1,suffix:"%",integerDigits:3,digitsOptional:!0,allowPlus:!0,allowMinus:!0,placeholder:"0",min:0,max:100,numericInput:!0}})});$(".mask-quantidade").inputmask({alias:"integer",allowMinus:!1,mask:"9999999"});$(".mask-prata").inputmask({alias:"prata"});$(".mask-proc").inputmask({mask:"9[,99]",radixPoint:",",greedy:!1,clearIncomplete:!0,showMaskOnHover:!1,showMaskOnFocus:!1,clearMaskOnLostFocus:!0,autoclear:!1,definitions:{"*":{validator:"[0-9]"}},rightAlign:!0});$(".mask-porcentagem").inputmask({alias:"percentage",digits:"2",rightAlign:!1,suffix:"%",integerDigits:3,digitsOptional:!0,allowPlus:!0,allowMinus:!0,placeholder:"0",min:0,max:100,numericInput:!0});$(".mask-porcentagem-1000").inputmask({alias:"percentage",digits:"2",rightAlign:!1,suffix:"%",integerDigits:4,digitsOptional:!0,allowPlus:!0,allowMinus:!0,placeholder:"0",min:0,max:1e3,numericInput:!0});setInterval(resize,1e3);